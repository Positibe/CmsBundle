{% extends '@PositibeOrmBlock/Block/block_base.html.twig' %}

{% block block %}
    {% set galleryHasMedias = content.gallery.galleryHasMedias %}
    <div id="{{ content.gallery.name }}" class="carousel slide">
        <ol class="carousel-indicators">
            {% for i in 0..(galleryHasMedias | length) - 1  %}
                <li data-target="#{{ content.gallery.name }}" data-slide-to="{{ loop.index0 }}"
                    {% if loop.index0 == 0 %}class="active"{% endif %}></li>
            {% endfor %}
        </ol>
        <div class="carousel-inner">
            {% for media in galleryHasMedias %}

                <div class="item {% if loop.index0 == 0 %}active{% endif %}">
                    <img src="{{ media.media.path }}" alt="{{ media.title }}">

                    <div class="carousel-caption">
                        {{ media.body | raw | striptags | truncate(150) }}
                    </div>
                </div>

            {% endfor %}
        </div>
        <a class="left carousel-control" href="#{{ content.gallery.name }}" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#{{ content.gallery.name }}" data-slide="next">
            <span class="icon-next"></span>
        </a>
    </div>
{% endblock %}
